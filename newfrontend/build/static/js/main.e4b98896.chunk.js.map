{"version":3,"sources":["assets/hey_mingle.png","assets/Sunfire - Young Free And Single.mp3","assets/background-video.mp4","assets/logo.png","assets/balloon1.PNG","assets/balloon2.PNG","assets/balloon3.PNG","assets/cake1.PNG","assets/cake2.PNG","assets/hat1.PNG","assets/hat2.PNG","store/actions/auth.js","store/actions/actionTypes.js","store/actions/message.js","websocket.js","hoc/hoc.js","containers/Chat.js","routes.js","components/Contact.js","containers/Sidepanel.js","store/actions/nav.js","containers/Profile.js","containers/Form.js","containers/Popup.js","containers/Login.js","containers/Confetti.js","containers/Homepage.js","containers/Register.js","components/animationList.js","components/AnimationDropdown.js","components/backgroundList.js","components/BackgroundDropdown.js","containers/Navbar.js","containers/UserProfile.js","containers/Background.js","containers/UpdateProfile.js","containers/Sky.js","App.js","serviceWorker.js","store/utility.js","store/reducers/auth.js","store/reducers/nav.js","store/reducers/message.js","index.js"],"names":["module","exports","baseUrl","authSuccess","username","token","type","authFail","error","logout","headers","Authorization","axios","post","then","res","localStorage","removeItem","authLogin","password","dispatch","data","setItem","catch","err","console","log","response","authSignup","email","password1","password2","getUserProfile","get","profile","getUserChats","defaults","chats","WebSocketService","callbacks","this","socketRef","instance","chatURL","path","WebSocket","onopen","socketNewMessage","JSON","stringify","command","onmessage","e","onerror","mesage","onclose","connect","close","parsedData","parse","Object","keys","length","messages","message","chatId","sendMessage","from","content","messagesCallbacks","newMessageCallbacks","send","mesasge","readyState","callback","socket","recursion","waitForSocketConnection","setTimeout","WebSocketInstance","getInstance","Hoc","props","children","Chat","state","messageChangeHandler","event","setState","target","value","sendMessageHandler","preventDefault","messageObject","match","params","chatID","newChatMessage","renderTimestamp","timestamp","timeDiff","Math","round","Date","getTime","renderMessages","currentUser","map","i","arr","key","id","className","author","src","alt","initialiseChat","fetchMessages","newProps","disconnect","component","onSubmit","onChange","required","placeholder","aria-hidden","React","Component","auth","BaseRouter","useRouteMatch","Contact","url","to","style","color","name","Sidepanel","undefined","waitForAuthDetails","addChat","activeChats","c","status","onClick","openAddChatPopup","authActions","msgActions","Profile","AddChatForm","usernames","handleChange","handleFinish","values","combinedUsers","xsrfHeaderName","xsrfCookieName","participants","history","push","closeAddChatPopup","layout","rules","onFinish","Item","mode","width","htmlType","withRouter","messageActions","AddChatModal","centered","footer","visible","isVisible","onCancel","antIcon","LoadingOutlined","fontSize","spin","Login","authenticate","login","loading","indicator","isAuthenticated","method","autoFocus","htmlFor","href","userName","signup","ConfettiAni","start","useWindowSize","height","numberOfPieces","Homepage","autoPlay","loop","position","left","top","objectFit","transform","zIndex","Playboy","Confetti","loginForm","changeForm","animations","AnimationDropdown","toggleConfetti","current","val","index","size","checked","backgroundList","BackgroundDropdown","toggleBackground","currentBg","Header","music","guestLinks","hidden","Music","defaultChecked","authLinks","role","data-toggle","aria-haspopup","aria-expanded","aria-labelledby","confettiType","bgColor","autostart","data-target","aria-controls","aria-label","logo","UserProfile","photo","toUpperCase","slice","bio","phone_number","catch_phrase","getProfile","BackgroundChanger","backgroundColor","UpdateProfile","class","for","title","images","1","balloon1","2","balloon2","3","balloon3","4","cake1","5","cake2","6","hat1","7","hat2","8","mingle","SkyConfetti","includes","String","0","how","time","background","App","startConfetti","addCallbacks","setMessages","bind","addMessage","inter","setInterval","onTryAutoSignup","clearInterval","oldState","Navbar","Register","Background","showAddChatPopup","exact","nav","authenticated","getItem","Boolean","window","location","hostname","updateObject","oldObject","updatedProperties","initialState","authStart","action","authLogout","userProfile","authReducer","navReducer","reverse","setChats","msgReducer","composeEnhances","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","rootReducer","combineReducers","createStore","applyMiddleware","thunk","configureStore","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.e4b98896.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/hey_mingle.836efd55.png\";","module.exports = __webpack_public_path__ + \"static/media/Sunfire - Young Free And Single.e2603b8f.mp3\";","module.exports = __webpack_public_path__ + \"static/media/background-video.3b59a926.mp4\";","module.exports = __webpack_public_path__ + \"static/media/logo.aa267554.png\";","module.exports = __webpack_public_path__ + \"static/media/balloon1.65ca6f4f.PNG\";","module.exports = __webpack_public_path__ + \"static/media/balloon2.e298c2fd.PNG\";","module.exports = __webpack_public_path__ + \"static/media/balloon3.3f494630.PNG\";","module.exports = __webpack_public_path__ + \"static/media/cake1.a5d622e0.PNG\";","module.exports = __webpack_public_path__ + \"static/media/cake2.0c0bb880.PNG\";","module.exports = __webpack_public_path__ + \"static/media/hat1.10c967a0.PNG\";","module.exports = __webpack_public_path__ + \"static/media/hat2.43b485f6.PNG\";","import axios from \"axios\";\nimport * as actionTypes from \"./actionTypes\";\n\nexport const authStart = () => {\n  return {\n    type: actionTypes.AUTH_START,\n  };\n};\nexport const baseUrl = \"https://mingle-market.herokuapp.com/\";\n\nexport const authSuccess = (username, token) => {\n  return {\n    type: actionTypes.AUTH_SUCCESS,\n    token: token,\n    username: username,\n  };\n};\n\nexport const authFail = (error) => {\n  return {\n    type: actionTypes.AUTH_FAIL,\n    error: error,\n  };\n};\n\nexport const logout = (token) => {\n  const headers = {\n    \"Content-Type\": \"application/json\",\n    Authorization: `Token ${token}`,\n  };\n  axios\n    .post(baseUrl + \"accounts/api/auth/logout/\", null, {\n      headers: headers,\n    })\n    .then((res) => {\n      localStorage.removeItem(\"token\");\n      localStorage.removeItem(\"username\");\n    });\n\n  return {\n    type: actionTypes.AUTH_LOGOUT,\n  };\n};\n\nexport const authLogin = (username, password) => {\n  return (dispatch) => {\n    dispatch(authStart());\n    const headers = {\n      \"Content-Type\": \"application/json\",\n    };\n    axios\n      .post(\n        baseUrl + \"accounts/api/auth/login\",\n        {\n          username: username,\n          password: password,\n        },\n        { headers: headers }\n      )\n      .then((res) => {\n        const token = res.data.token;\n        localStorage.setItem(\"token\", token);\n        localStorage.setItem(\"username\", username);\n        dispatch(authSuccess(username, token));\n      })\n      .catch((err) => {\n        console.log(err.response);\n\n        dispatch(authFail(err));\n      });\n  };\n};\n\nexport const authSignup = (username, email, password1, password2) => {\n  return (dispatch) => {\n    dispatch(authStart());\n    axios\n      .post(baseUrl + \"accounts/api/auth/register\", {\n        username: username,\n        email: email,\n        password1: password1,\n        password2: password2,\n      })\n      .then((res) => {\n        const token = res.data.token;\n        localStorage.setItem(\"token\", token);\n        localStorage.setItem(\"username\", username);\n        dispatch(authSuccess(username, token));\n      })\n      .catch((err) => {\n        console.log(err.response);\n        dispatch(authFail(err));\n      });\n  };\n};\n\nexport const authCheckState = () => {\n  return (dispatch) => {\n    const token = localStorage.getItem(\"token\");\n    const username = localStorage.getItem(\"username\");\n    if (token === undefined) {\n      dispatch(logout());\n    } else {\n      dispatch(authSuccess(username, token));\n    }\n  };\n};\n\nconst getUserProfileSuccess = (profile) => {\n  return {\n    type: actionTypes.GET_PROFILE_SUCCESS,\n    profile: profile,\n  };\n};\n\nexport const getUserProfile = (token) => {\n  return (dispatch) => {\n    const headers = {\n      \"Content-Type\": \"application/json\",\n      Authorization: `Token ${token}`,\n    };\n    axios\n      .get(baseUrl + \"chat/contact_detail/\", { headers: headers })\n      .then((res) => {\n        dispatch(getUserProfileSuccess(res.data));\n      })\n      .catch((err) => {\n        dispatch(authFail(err));\n      });\n  };\n};\n","export const AUTH_START = \"AUTH_START\";\nexport const AUTH_SUCCESS = \"AUTH_SUCCESS\";\nexport const AUTH_FAIL = \"AUTH_FAIL\";\nexport const AUTH_LOGOUT = \"AUTH_LOGOUT\";\nexport const OPEN_ADD_CHAT_POPUP = \"OPEN_ADD_CHAT_POPUP\";\nexport const CLOSE_ADD_CHAT_POPUP = \"CLOSE_ADD_CHAT_POPUP\";\nexport const ADD_MESSAGE = \"ADD_MESSAGE\";\nexport const SET_MESSAGES = \"SET_MESSAGES\";\nexport const GET_CHATS_SUCCESS = \"GET_CHATS_SUCCESS\";\nexport const GET_PROFILE_SUCCESS = \"GET_PROFILE_SUCCESS\";\nexport const GET_PROFILE_FAIL = \"GET_PROFILE_FAIL\";\n","import axios from \"axios\";\nimport * as actionTypes from \"./actionTypes\";\nimport { baseUrl } from \"./auth\";\n\nexport const addMessage = (message) => {\n  return {\n    type: actionTypes.ADD_MESSAGE,\n    message: message,\n  };\n};\n\nexport const setMessages = (messages) => {\n  return {\n    type: actionTypes.SET_MESSAGES,\n    messages: messages,\n  };\n};\n\nconst getUserChatsSuccess = (chats) => {\n  return {\n    type: actionTypes.GET_CHATS_SUCCESS,\n    chats: chats,\n  };\n};\n\nexport const getUserChats = (username, token) => {\n  return (dispatch) => {\n    axios.defaults.headers = {\n      \"Content-Type\": \"application/json\",\n      Authorization: `Token ${token}`,\n    };\n    axios\n      .get(baseUrl + `chat/?username=${username}`)\n      .then((res) => dispatch(getUserChatsSuccess(res.data)));\n  };\n};\n","class WebSocketService {\n  static instance = null;\n  callbacks = {};\n  static getInstance() {\n    if (!WebSocketService.instance) {\n      WebSocketService.instance = new WebSocketService();\n    }\n    return WebSocketService.instance;\n  }\n  constructor() {\n    this.socketRef = null;\n  }\n  connect(chatURL) {\n    // var ws_scheme = window.location.protocol == \"https:\" ? \"wss\" : \"ws\";\n    // const path =\n    //   ws_scheme + \"://\" + window.location.host + \"/ws/chat\" + `/${chatURL}`;\n    const path = `ws://localhost:8000/ws/chat/${chatURL}/`;\n    console.log(path);\n    this.socketRef = new WebSocket(path);\n    this.socketRef.onopen = () => {\n      console.log(\"websocket is open\");\n    };\n    this.socketNewMessage(JSON.stringify({ command: \"fetch_messages\" }));\n    this.socketRef.onmessage = (e) => {\n      this.socketNewMessage(e.data);\n    };\n    this.socketRef.onerror = (e) => {\n      console.log(e.mesage);\n    };\n    this.socketRef.onclose = () => {\n      console.log(\"websocket is closed\");\n      this.connect();\n    };\n  }\n  disconnect() {\n    this.socketRef.close();\n    this.socketRef.onclose = () => {\n      console.log(\"socket is closed\");\n    };\n  }\n  socketNewMessage(data) {\n    const parsedData = JSON.parse(data);\n    const command = parsedData.command;\n    if (Object.keys(this.callbacks).length === 0) {\n      return;\n    }\n    if (command === \"messages\") {\n      this.callbacks[command](parsedData.messages);\n    }\n    if (command === \"new_message\") {\n      this.callbacks[command](parsedData.message);\n    }\n  }\n\n  fetchMessages(username, chatId) {\n    this.sendMessage({\n      command: \"fetch_messages\",\n      username: username,\n      chatId: chatId,\n    });\n  }\n\n  newChatMessage(message) {\n    this.sendMessage({\n      command: \"new_message\",\n      from: message.from,\n      message: message.content,\n      chatId: message.chatId,\n    });\n  }\n\n  addCallbacks(messagesCallbacks, newMessageCallbacks) {\n    this.callbacks[\"messages\"] = messagesCallbacks;\n    this.callbacks[\"new_message\"] = newMessageCallbacks;\n  }\n\n  sendMessage(data) {\n    try {\n      this.socketRef.send(JSON.stringify({ ...data }));\n    } catch (err) {\n      console.log(err.mesasge);\n    }\n  }\n\n  state() {\n    return this.socketRef.readyState;\n  }\n\n  waitForSocketConnection(callback) {\n    const socket = this.socketRef;\n    const recursion = this.waitForSocketConnection;\n    setTimeout(function () {\n      if (socket.readyState === 1) {\n        console.log(\"Connection is secure\");\n        if (callback != null) {\n          callback();\n        }\n        return;\n      } else {\n        console.log(\"Waiting for connection....\");\n        recursion(callback);\n      }\n    }, 1);\n  }\n}\n\nconst WebSocketInstance = WebSocketService.getInstance();\n\nexport default WebSocketInstance;\n","const Hoc = (props) => props.children;\n\nexport default Hoc;\n","import React from \"react\";\nimport { connect } from \"react-redux\";\nimport WebSocketInstance from \"../websocket\";\nimport Hoc from \"../hoc/hoc\";\n\nclass Chat extends React.Component {\n  state = { message: \"\" };\n  initialiseChat() {\n    this.waitForSocketConnection(() => {\n      WebSocketInstance.fetchMessages(\n        this.props.username,\n        this.props.match.params.chatID\n      );\n    });\n    WebSocketInstance.connect(this.props.match.params.chatID);\n  }\n  constructor(props) {\n    super(props);\n    this.initialiseChat();\n  }\n\n  UNSAFE_componentWillReceiveProps(newProps) {\n    console.log(newProps);\n    if (this.props.match.params.chatID !== newProps.match.params.chatID) {\n      WebSocketInstance.disconnect();\n      this.waitForSocketConnection(() => {\n        WebSocketInstance.fetchMessages(\n          this.props.username,\n          newProps.match.params.chatID\n        );\n      });\n      WebSocketInstance.connect(newProps.match.params.chatID);\n    }\n  }\n  waitForSocketConnection(callback) {\n    const component = this;\n    setTimeout(function () {\n      if (WebSocketInstance.state() === 1) {\n        console.log(\"Connection is made\");\n        callback();\n        return;\n      } else {\n        console.log(\"wait for connection...\");\n        component.waitForSocketConnection(callback);\n      }\n    }, 100);\n  }\n\n  messageChangeHandler = (event) => {\n    this.setState({\n      message: event.target.value,\n    });\n  };\n\n  sendMessageHandler = (e) => {\n    e.preventDefault();\n    const messageObject = {\n      from: this.props.username,\n      content: this.state.message,\n      chatId: this.props.match.params.chatID,\n    };\n    WebSocketInstance.newChatMessage(messageObject);\n    this.setState({\n      message: \"\",\n    });\n  };\n\n  renderTimestamp = (timestamp) => {\n    let prefix = \"\";\n    const timeDiff = Math.round(\n      (new Date().getTime() - new Date(timestamp).getTime()) / 60000\n    );\n    if (timeDiff < 1) {\n      // less than one minute ago\n      prefix = \"just now...\";\n    } else if (timeDiff < 60 && timeDiff > 1) {\n      // less than sixty minutes ago\n      prefix = `${timeDiff} minutes ago`;\n    } else if (timeDiff < 24 * 60 && timeDiff > 60) {\n      // less than 24 hours ago\n      prefix = `${Math.round(timeDiff / 60)} hours ago`;\n    } else if (timeDiff < 31 * 24 * 60 && timeDiff > 24 * 60) {\n      // less than 7 days ago\n      prefix = `${Math.round(timeDiff / (60 * 24))} days ago`;\n    } else {\n      prefix = `${new Date(timestamp)}`;\n    }\n    return prefix;\n  };\n\n  renderMessages = (messages) => {\n    const currentUser = this.props.username;\n    return messages.map((message, i, arr) => (\n      <div\n        key={message.id}\n        className={\n          message.author === currentUser\n            ? \"d-flex justify-content-end mb-4\"\n            : \"d-flex justify-content-start mb-4\"\n        }\n      >\n        <div className=\"img_cont_msg\">\n          <img\n            src=\"http://emilcarlsson.se/assets/mikeross.png\"\n            className=\"rounded-circle user_img_msg\"\n            alt=\"user\"\n          />\n        </div>\n        <div className=\"msg_cotainer\">\n          {message.author}\n          <br />\n          {message.content}\n          <span className=\"msg_time\">\n            {this.renderTimestamp(message.timestamp)}\n          </span>\n        </div>\n      </div>\n    ));\n  };\n  /*\n  scrollToBottom = () => {\n    this.messagesEnd.scrollIntoView({ behavior: \"smooth\" });\n  };\n\n  componentDidMount() {\n    this.scrollToBottom();\n  }*/\n\n  // componentDidUpdate(newProps) {\n  //   console.log(newProps);\n  //   if (this.props.match.params.chatID !== newProps.match.params.chatID) {\n  //     WebSocketInstance.disconnect();\n  //     this.waitForSocketConnection(() => {\n  //       WebSocketInstance.fetchMessages(\n  //         this.props.username,\n  //         newProps.match.params.chatID\n  //       );\n  //     });\n  //     WebSocketInstance.connect(newProps.match.params.chatID);\n  //   }\n  // }\n\n  render() {\n    return (\n      <Hoc>\n        <div className=\"card-body msg_card_body\">\n          {this.props.messages && this.renderMessages(this.props.messages)}\n        </div>\n        <div className=\"card-footer\">\n          <form onSubmit={this.sendMessageHandler}>\n            <div className=\"input-group\">\n              <div className=\"input-group-append\">\n                <span className=\"input-group-text attach_btn\">\n                  <i className=\"fas fa-paperclip\"></i>\n                </span>\n              </div>\n              <input\n                onChange={this.messageChangeHandler}\n                value={this.state.message}\n                required\n                className=\"form-control type_msg\"\n                id=\"chat-message-input\"\n                type=\"text\"\n                placeholder=\"Type your message...\"\n              />\n              <div id=\"chat-message-submit\" className=\"input-group-append\">\n                <span className=\"input-group-text send_btn\">\n                  <i className=\"fa fa-paper-plane\" aria-hidden=\"true\"></i>\n                </span>\n              </div>\n            </div>\n          </form>\n        </div>\n      </Hoc>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    username: state.auth.username,\n    messages: state.message.messages,\n  };\n};\n\nexport default connect(mapStateToProps)(Chat);\n","import React from \"react\";\nimport { Switch, Route, useRouteMatch } from \"react-router-dom\";\nimport Chat from \"./containers/Chat\";\n\nexport default BaseRouter;\nfunction BaseRouter() {\n  let { path } = useRouteMatch();\n  return (\n    <Switch>\n      <Route path={`${path}/:chatID`} component={Chat} />\n    </Switch>\n  );\n}\n","import React from \"react\";\nimport { NavLink, useRouteMatch } from \"react-router-dom\";\n\nfunction Contact(props) {\n  let { url } = useRouteMatch();\n\n  return (\n    <NavLink to={`${url}${props.chatURL}`} style={{ color: \"#fff\" }}>\n      <li className=\"active\">\n        <div className=\"d-flex bd-highlight\">\n          {/* <div className=\"img_cont\">\n            <img\n              src={props.picURL}\n              alt={props.name}\n              className=\"rounded-circle user_img\"\n            />\n            <span className={`${props.status}_icon`}></span>\n          </div> */}\n          <div className=\"user_info\">\n            <span>{props.name}</span>\n            {/* <p>Kalid is online</p> */}\n          </div>\n        </div>\n      </li>\n    </NavLink>\n  );\n}\n\nexport default Contact;\n","import React from \"react\";\nimport { connect } from \"react-redux\";\nimport * as authActions from \"../store/actions/auth\";\nimport * as navActions from \"../store/actions/nav\";\nimport * as msgActions from \"../store/actions/message\";\nimport Contact from \"../components/Contact\";\n\nclass Sidepanel extends React.Component {\n  waitForAuthDetails() {\n    const component = this;\n    setTimeout(() => {\n      if (\n        component.props.token !== null &&\n        component.props.token !== undefined\n      ) {\n        component.props.getUserChats(\n          component.props.username,\n          component.props.token\n        );\n        return;\n      } else {\n        console.log(\"waiting for auth details\");\n        component.waitForAuthDetails();\n      }\n    }, 100);\n  }\n\n  componentDidMount() {\n    this.waitForAuthDetails();\n  }\n\n  openAddChatPopup() {\n    this.props.addChat();\n  }\n  render() {\n    const activeChats = this.props.chats.map((c) => {\n      return (\n        <Contact\n          key={c.id}\n          name={`${c.name}`}\n          status=\"online\"\n          // picURL=\"http://emilcarlsson.se/assets/louislitt.png\"\n          chatURL={`/${c.id}`}\n        />\n      );\n    });\n    return (\n      <div className=\"col-md-4 col-xl-3 chat\">\n        <div className=\"card mb-sm-3 mb-md-0 contacts_card\">\n          <div className=\"card-header\">\n            <div className=\"input-group\">\n              <input\n                type=\"text\"\n                placeholder=\"Search...\"\n                name=\"\"\n                className=\"form-control search\"\n              />\n              <div className=\"input-group-prepend\">\n                <span className=\"input-group-text search_btn\">\n                  <i className=\"fas fa-search\"></i>\n                </span>\n              </div>\n            </div>\n          </div>\n          <div className=\"card-body contacts_body\">\n            <ul className=\"contacts\">{activeChats}</ul>\n          </div>\n          <div id=\"card-footer\">\n            <button\n              className=\"d-flex justify-content-start btn-sm btn-danger\"\n              onClick={() => this.openAddChatPopup()}\n            >\n              <i className=\"fa fa-user-plus fa-fw\" aria-hidden=\"true\"></i>{\" \"}\n              <span>Add Chat</span>\n            </button>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    token: state.auth.token,\n    username: state.auth.username,\n    chats: state.message.chats,\n  };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    logout: () => dispatch(authActions.logout()),\n    addChat: () => dispatch(navActions.openAddChatPopup()),\n    getUserChats: (username, token) =>\n      dispatch(msgActions.getUserChats(username, token)),\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Sidepanel);\n","import * as actionTypes from \"./actionTypes\";\n\nexport const openAddChatPopup = () => {\n  return {\n    type: actionTypes.OPEN_ADD_CHAT_POPUP\n  };\n};\n\nexport const closeAddChatPopup = () => {\n  return {\n    type: actionTypes.CLOSE_ADD_CHAT_POPUP\n  };\n};","import React from \"react\";\nimport { connect } from \"react-redux\";\nimport { Redirect } from \"react-router-dom\";\n\nclass Profile extends React.Component {\n  render() {\n    if (this.props.token === null) {\n      return <Redirect to=\"/\" />;\n    }\n\n    return (\n      <div className=\"card-header msg_head\">\n        <div className=\"d-flex bd-highlight\">\n          <div className=\"img_cont\">\n            <img\n              src=\"http://emilcarlsson.se/assets/harveyspecter.png\"\n              alt=\"\"\n              className=\"rounded-circle user_img\"\n            />\n            <span className=\"online_icon\"></span>\n          </div>\n          <div className=\"user_info\">\n            <span>{this.props.username}</span>\n            <p>1767 Messages</p>\n          </div>\n          <div className=\"video_cam\">\n            <span>\n              <i className=\"fas fa-video\"></i>\n            </span>\n            <span>\n              <i className=\"fas fa-phone\"></i>\n            </span>\n          </div>\n        </div>\n        <span id=\"action_menu_btn\">\n          <i className=\"fas fa-ellipsis-v\"></i>\n        </span>\n        <div className=\"action_menu\">\n          <ul>\n            <li>\n              <i className=\"fas fa-user-circle\"></i> View profile\n            </li>\n            <li>\n              <i className=\"fas fa-plus\"></i> Add to group\n            </li>\n          </ul>\n        </div>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    username: state.auth.username,\n    token: state.auth.token,\n  };\n};\n\nexport default connect(mapStateToProps)(Profile);\n","import React from \"react\";\nimport { Form, Button, Select } from \"antd\";\nimport axios from \"axios\";\nimport { connect } from \"react-redux\";\nimport { withRouter } from \"react-router-dom\";\nimport * as navActions from \"../store/actions/nav\";\nimport * as messageActions from \"../store/actions/message\";\nimport { baseUrl } from \"../store/actions/auth\";\n\nclass AddChatForm extends React.Component {\n  state = {\n    usernames: [],\n    error: null,\n  };\n\n  handleChange = (value) => {\n    this.setState({\n      usernames: value,\n    });\n  };\n\n  handleFinish = (values) => {\n    const { usernames } = this.state;\n    const combinedUsers = [...usernames, this.props.username];\n\n    const headers = {\n      \"Content-Type\": \"application/json\",\n      Authorization: `Token ${this.props.token}`,\n    };\n    axios.defaults.xsrfHeaderName = \"X-CSRFTOKEN\";\n    axios.defaults.xsrfCookieName = \"csrftoken\";\n    axios\n      .post(\n        baseUrl + \"chat/create/\",\n        {\n          messages: [],\n          participants: combinedUsers,\n        },\n        { headers: headers }\n      )\n      .then((res) => {\n        this.props.history.push(`/${res.data.id}`);\n        this.props.closeAddChatPopup();\n        this.props.getUserChats(this.props.username, this.props.token);\n      })\n      .catch((err) => {\n        console.error(err);\n        this.setState({\n          error: err,\n        });\n      });\n  };\n  render() {\n    return (\n      <Form\n        layout=\"inline\"\n        name=\"username\"\n        rules={[\n          {\n            required: true,\n            message: \"Please input the username of whom you want to chat with\",\n          },\n        ]}\n        onFinish={this.handleFinish}\n      >\n        {this.state.error ? `${this.state.error}` : null}\n        <Form.Item>\n          <Select\n            mode=\"tags\"\n            style={{ width: \"100%\" }}\n            placeholder=\"Tags Mode\"\n            onChange={this.handleChange}\n          >\n            {[]}\n          </Select>\n        </Form.Item>\n        <Form.Item>\n          <Button\n            type=\"primary\"\n            htmlType=\"submit\"\n            // disabled={hasErrors(getFieldsError())}\n          >\n            Start a chat\n          </Button>\n        </Form.Item>\n      </Form>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    token: state.auth.token,\n    username: state.auth.username,\n  };\n};\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    closeAddChatPopup: () => dispatch(navActions.closeAddChatPopup()),\n    getUserChats: (username, token) =>\n      dispatch(messageActions.getUserChats(username, token)),\n  };\n};\nexport default withRouter(\n  connect(mapStateToProps, mapDispatchToProps)(AddChatForm)\n);\n","import React from \"react\";\nimport { Modal } from \"antd\";\nimport AddChatForm from \"./Form\";\nclass AddChatModal extends React.Component {\n  render() {\n    return (\n      <Modal\n        centered\n        footer={null}\n        visible={this.props.isVisible}\n        onCancel={this.props.close}\n      >\n        <AddChatForm />\n      </Modal>\n    );\n  }\n}\n\nexport default AddChatModal;\n","import React from \"react\";\nimport { connect } from \"react-redux\";\nimport { Link } from \"react-router-dom\";\nimport * as authActions from \"../store/actions/auth\";\nimport * as navActions from \"../store/actions/nav\";\nimport { Spin } from \"antd\";\nimport { LoadingOutlined } from \"@ant-design/icons\";\nconst antIcon = <LoadingOutlined style={{ fontSize: 24 }} spin />;\nclass Login extends React.Component {\n  authenticate = (e) => {\n    e.preventDefault();\n    this.props.login(e.target.username.value, e.target.password.value);\n  };\n\n  render() {\n    return (\n      <div id=\"profile\">\n        <div className=\"wrap\">\n          {/*  */}\n\n          <div id=\"login\">\n            <div className=\"container-fluid\">\n              <div className=\"row no-gutter\">\n                {/* <div className=\"d-none d-md-flex col-md-4 col-lg-6 bg-image\"></div> */}\n                <div className=\"col-md-8 col-lg-6\">\n                  <div className=\"login d-flex align-items-center py-5\">\n                    <div className=\"container\">\n                      <div className=\"row\">\n                        <div className=\"col-md-9 col-lg-8 mx-auto\">\n                          <h2 className=\"login-heading mb-4 text-danger\">\n                            Welcome back!\n                          </h2>\n                          {this.props.loading ? (\n                            <Spin indicator={antIcon} />\n                          ) : this.props.isAuthenticated ? (\n                            <div>\n                              <Link to=\"/chat\">\n                                <button\n                                  // onClick={() => this.props.logout()}\n                                  className=\"btn btn-lg btn-danger btn-block btn-login text-uppercase font-weight-bold mb-2\"\n                                >\n                                  <span>Chat Room</span>\n                                </button>\n                              </Link>\n                              <Link to=\"/update-profile\">\n                                <button\n                                  // onClick={() => this.props.logout()}\n                                  className=\"btn btn-lg btn-danger btn-block btn-login text-uppercase font-weight-bold mb-2\"\n                                >\n                                  <span>Account Settings</span>\n                                </button>\n                              </Link>\n                              <button\n                                onClick={() => this.props.logout()}\n                                className=\"btn btn-lg btn-danger btn-block btn-login text-uppercase font-weight-bold mb-2\"\n                              >\n                                <span>Logout</span>\n                              </button>\n                            </div>\n                          ) : (\n                            <form method=\"POST\" onSubmit={this.authenticate}>\n                              <div className=\"form-label-group\">\n                                <input\n                                  type=\"username\"\n                                  name=\"username\"\n                                  id=\"inputEmail\"\n                                  className=\"form-control\"\n                                  placeholder=\"Username\"\n                                  required\n                                  autoFocus\n                                />\n                                <label htmlFor=\"inputEmail\">Username</label>\n                              </div>\n\n                              <div className=\"form-label-group\">\n                                <input\n                                  type=\"password\"\n                                  name=\"password\"\n                                  id=\"inputPassword\"\n                                  className=\"form-control\"\n                                  placeholder=\"Password\"\n                                  required\n                                />\n                                <label htmlFor=\"inputPassword\">Password</label>\n                              </div>\n                              <button\n                                className=\"btn btn-lg btn-danger btn-block btn-login text-uppercase font-weight-bold mb-2\"\n                                type=\"submit\"\n                              >\n                                Log in\n                              </button>\n                              <div className=\"text-center\">\n                                <a className=\"small\" href=\"#\">\n                                  Forgot password?\n                                </a>\n                              </div>\n                            </form>\n                          )}\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    isAuthenticated: state.auth.token !== null,\n    loading: state.auth.loading,\n    token: state.auth.token,\n    username: state.auth.username,\n    chats: state.message.chats,\n  };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    login: (userName, password) =>\n      dispatch(authActions.authLogin(userName, password)),\n    logout: () => dispatch(authActions.logout()),\n    signup: (username, email, password1, password2) =>\n      dispatch(authActions.authSignup(username, email, password1, password2)),\n    addChat: () => dispatch(navActions.openAddChatPopup()),\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Login);\n","import React, { useState } from 'react'\nimport useWindowSize from 'react-use/lib/useWindowSize'\nimport Confetti from 'react-confetti'\n\nconst ConfettiAni = ({start, type}) => {\n  const { width, height }  = useWindowSize()\n  return (\n    <Confetti\n      width={width}\n      height={height}\n      numberOfPieces={start && type === 0 ? 1110 : 0 }\n    />\n  )\n}\n\nexport default ConfettiAni;\n","import React, { Fragment } from \"react\";\nimport Login from \"./Login\";\nimport ConfettiAni from \"./Confetti\";\nimport Playboy from \"../assets/background-video.mp4\";\n\nclass Homepage extends React.Component {\n  render() {\n    return (\n      <Fragment>\n        <video\n          autoPlay\n          loop\n          style={{\n            position: \"absolute\",\n            width: \"100%\",\n            left: \"50%\",\n            top: \"50%\",\n            height: \"100%\",\n            objectFit: \"cover\",\n            transform: \"translate(-50%, -50%)\",\n            zIndex: \"-1\",\n          }}\n        >\n          <source src={Playboy} type=\"video/mp4\" />\n        </video>\n\n        <ConfettiAni />\n        <Login />\n      </Fragment>\n    );\n  }\n}\n\nexport default Homepage;\n","import React from \"react\";\nimport { connect } from \"react-redux\";\nimport * as authActions from \"../store/actions/auth\";\nimport * as navActions from \"../store/actions/nav\";\nimport { Spin } from \"antd\";\nimport { LoadingOutlined } from \"@ant-design/icons\";\nimport { Link } from \"react-router-dom\";\nconst antIcon = <LoadingOutlined style={{ fontSize: 24 }} spin />;\n\nclass Login extends React.Component {\n  state = {\n    loginForm: true,\n  };\n\n  changeForm = () => {\n    this.setState({ loginForm: !this.state.loginForm });\n  };\n\n  authenticate = (e) => {\n    e.preventDefault();\n\n    this.props.signup(\n      e.target.username.value,\n      e.target.email.value,\n      e.target.password.value,\n      e.target.password2.value\n    );\n  };\n\n  render() {\n    return (\n      <div id=\"profile\">\n        <div className=\"wrap\">\n          {/*  */}\n          {this.props.username !== null ? <p>{this.props.username}</p> : null}\n\n          <div id=\"registration\">\n            <div className=\"container-fluid\">\n              <div className=\"row no-gutter\">\n                {/* <div className=\"d-none d-md-flex col-md-4 col-lg-6 bg-image\"></div> */}\n                <div className=\"col-md-8 col-lg-6\">\n                  <div className=\"login d-flex align-items-center py-5\">\n                    <div className=\"container\">\n                      <div className=\"row\">\n                        <div className=\"col-md-9 col-lg-8 mx-auto\">\n                          <h3 className=\"login-heading mb-4 text-danger\">\n                            Join Us!\n                          </h3>\n                          {this.props.loading ? (\n                            <Spin indicator={antIcon} />\n                          ) : this.props.isAuthenticated ? (\n                            <Link to=\"/update-profile\">\n                              <button className=\"btn btn-lg btn-danger btn-block btn-login text-uppercase font-weight-bold mb-2\">\n                                <span>Set up Your Profile</span>\n                              </button>\n                            </Link>\n                          ) : (\n                            <form method=\"POST\" onSubmit={this.authenticate}>\n                              <div className=\"form-label-group\">\n                                <input\n                                  type=\"username\"\n                                  name=\"username\"\n                                  id=\"inputUsername\"\n                                  className=\"form-control\"\n                                  placeholder=\"Username\"\n                                  required\n                                  autoFocus\n                                />\n                                <label htmlFor=\"inputUsername\">Username</label>\n                              </div>\n                              <div className=\"form-label-group\">\n                                <input\n                                  type=\"email\"\n                                  name=\"email\"\n                                  id=\"inputEmail\"\n                                  className=\"form-control\"\n                                  placeholder=\"Email\"\n                                  required\n                                  autoFocus\n                                />\n                                <label htmlFor=\"inputEmail\">Email</label>\n                              </div>\n\n                              <div className=\"form-label-group\">\n                                <input\n                                  type=\"password\"\n                                  name=\"password\"\n                                  id=\"inputPassword\"\n                                  className=\"form-control\"\n                                  placeholder=\"Enter Password\"\n                                  required\n                                />\n                                <label htmlFor=\"inputPassword\">\n                                  Enter Password\n                                </label>\n                              </div>\n                              <div className=\"form-label-group\">\n                                <input\n                                  type=\"password\"\n                                  name=\"password2\"\n                                  id=\"inputPassword2\"\n                                  className=\"form-control\"\n                                  placeholder=\"Confirm Password\"\n                                  required\n                                />\n                                <label htmlFor=\"inputPassword2\">\n                                  Confirm Password\n                                </label>\n                              </div>\n\n                              <div className=\"custom-control custom-checkbox mb-3\">\n                                <input\n                                  type=\"checkbox\"\n                                  className=\"custom-control-input\"\n                                  id=\"customCheck1\"\n                                />\n                                <label\n                                  className=\"custom-control-label\"\n                                  htmlFor=\"customCheck1\"\n                                >\n                                  Remember password\n                                </label>\n                              </div>\n                              <div>\n                                <button\n                                  className=\"btn btn-lg btn-danger btn-block btn-login text-uppercase font-weight-bold mb-2\"\n                                  type=\"submit\"\n                                >\n                                  Sign Up\n                                </button>\n                              </div>\n                            </form>\n                          )}\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    isAuthenticated: state.auth.token !== null,\n    loading: state.auth.loading,\n    token: state.auth.token,\n    username: state.auth.username,\n    chats: state.message.chats,\n  };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    login: (userName, password) =>\n      dispatch(authActions.authLogin(userName, password)),\n    logout: () => dispatch(authActions.logout()),\n    signup: (username, email, password1, password2) =>\n      dispatch(authActions.authSignup(username, email, password1, password2)),\n    addChat: () => dispatch(navActions.openAddChatPopup()),\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Login);\n","const animations = [\n    {\n        name: 'Confetti'\n    },\n    {\n        name: 'Balloon 1'\n    },\n    {\n        name: 'Balloon 2'\n    },\n    {\n        name: 'Balloon 3'\n    },\n    {\n        name: 'Cake 1'\n    },\n    {\n        name: 'Cake 2'\n    },\n    {\n        name: 'Hat 1'\n    },\n    {\n        name: 'Hat 2'\n    },\n    {\n        name: 'Mingle Logo'\n    }\n]\n\nexport default animations;","import React from 'react'\nimport { Switch } from \"antd\";\nimport animations from './animationList'\n\nconst AnimationDropdown = ({toggleConfetti,current,start}) => (\n    animations.map((val,index) => {\n        return (\n            <>\n            <div className=\"dropdown-item\">\n                {val.name}{\" \"}\n            <Switch size=\"small\" onChange={(checked) => toggleConfetti(index, checked)} checked={current === index && start}/>\n            </div>\n            <div className=\"dropdown-divider\"></div>\n            </>\n        )\n    })\n)\n\nexport default AnimationDropdown;","const backgroundList = [\n    {\n        color: 'blue',\n        value: 'blue'\n    },\n    {\n        color: 'red',\n        value: 'red'\n    },\n    {\n        color: 'green',\n        value: 'green'\n    },\n    {\n        color: 'yellow',\n        value: 'yellow'\n    },\n    {\n        color: 'default',\n        value: 'transparent'\n    },\n    \n]\n\nexport default backgroundList;","import React from 'react'\nimport { Switch } from \"antd\";\nimport backgroundList from './backgroundList'\n\nconst BackgroundDropdown = ({toggleBackground,currentBg}) => (\n    backgroundList.map((val,index) => {\n        return (\n            <>\n            <div className=\"dropdown-item\">\n                {val.color}{\" \"}\n            <Switch size=\"small\" onChange={() => toggleBackground(val.value)} checked={currentBg === val.value}/>\n            </div>\n            <div className=\"dropdown-divider\"></div>\n            </>\n        )\n    })\n)\n\nexport default BackgroundDropdown;","import React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\nimport { Switch } from \"antd\";\nimport * as authActions from \"../store/actions/auth\";\nimport logo from \"../assets/logo.png\";\nimport Music from \"../assets/Sunfire - Young Free And Single.mp3\";\nimport AnimationDropdown from \"../components/AnimationDropdown\";\nimport BackgroundDropdown from \"../components/BackgroundDropdown\";\n\nexport class Header extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      music: true,\n    };\n  }\n\n\n  onChange = () => {\n    this.setState({ music: !this.state.music });\n  };\n  render() {\n    const guestLinks = (\n      <ul className=\"navbar-nav mr-auto\">\n        <li className=\"nav-item\">\n          <Link to=\"/register\" className=\"nav-link\">\n            <button className=\"nav-link btn btn-outline-danger btn-sm text-dark\">\n              Register\n            </button>\n          </Link>\n        </li>\n        <li className=\"nav-item\">\n          {this.state.music === true ? (\n            <audio autoPlay=\"autoplay\" hidden=\"hidden\">\n              <source src={Music} type=\"audio/mpeg\" />\n            </audio>\n          ) : (\n            \"\"\n          )}\n        </li>\n        <li className=\"nav-item\">\n          Music <Switch size=\"small\" defaultChecked onChange={this.onChange} />\n        </li>\n      </ul>\n    );\n\n    const authLinks = (\n      <ul className=\"navbar-nav mr-auto\">\n        <li className=\"nav-item dropdown\">\n          <div\n            className=\"nav-link dropdown-toggle text-dark\"\n            id=\"navbarDropdown2\"\n            role=\"button\"\n            data-toggle=\"dropdown\"\n            aria-haspopup=\"true\"\n            aria-expanded=\"false\"\n          >\n            Hi, {this.props.username}\n          </div>\n          <div className=\"dropdown-menu\" aria-labelledby=\"navbarDropdown2\">\n            <Link to=\"/profile\" className=\"dropdown-item\">\n              My Profile\n            </Link>\n\n            <div className=\"dropdown-divider\"></div>\n            <div className=\"dropdown-item\">\n              Music{\" \"}\n              <Switch size=\"small\" defaultChecked onChange={this.onChange} />\n            </div>\n          </div>\n        </li>\n        <li className=\"nav-item dropdown\">\n          <div\n            className=\"nav-link dropdown-toggle text-dark\"\n            id=\"navbarDropdown2\"\n            role=\"button\"\n            data-toggle=\"dropdown\"\n            aria-haspopup=\"true\"\n            aria-expanded=\"false\"\n          >\n           Animations\n          </div>\n          <div className=\"dropdown-menu\" aria-labelledby=\"navbarDropdown2\">\n            <AnimationDropdown\n              toggleConfetti={this.props.toggleConfetti}\n              current={this.props.confettiType}\n              start={this.props.start}\n            />\n          </div>\n        </li>\n        <li className=\"nav-item dropdown\">\n          <div\n            className=\"nav-link dropdown-toggle text-dark\"\n            id=\"navbarDropdown2\"\n            role=\"button\"\n            data-toggle=\"dropdown\"\n            aria-haspopup=\"true\"\n            aria-expanded=\"false\"\n          >\n           Backgrounds\n          </div>\n          <div className=\"dropdown-menu\" aria-labelledby=\"navbarDropdown2\">\n            <BackgroundDropdown\n              color={this.props.bgColor}\n              toggleBackground={this.props.toggleBackground}\n              currentBg={this.props.currentBg}\n            />\n          </div>\n        </li>\n        <li className=\"nav-item\">\n          {this.state.music === \"on\" ? (\n            <embed\n              src={Music}\n              autostart=\"true\"\n              loop={true}\n              width=\"0\"\n              height=\"0\"\n            ></embed>\n          ) : (\n            \"\"\n          )}\n        </li>\n        <li className=\"nav-item\">\n          <button\n            onClick={(token) => this.props.logout(this.props.token)}\n            className=\"nav-link btn btn-outline-danger btn-sm text-dark mx-2\"\n          >\n            Logout\n          </button>\n        </li>\n      </ul>\n    );\n\n    return (\n      <nav className=\"navbar navbar-expand navbar-dark bg-light sticky-top\">\n        <div className=\"container\">\n          <button\n            className=\"navbar-toggler\"\n            type=\"button\"\n            data-toggle=\"collapse\"\n            data-target=\"#navbarSupportedContent\"\n            aria-controls=\"navbarSupportedContent\"\n            aria-expanded=\"false\"\n            aria-label=\"Toggle navigation\"\n          >\n            <span className=\"navbar-toggler-icon\"></span>\n          </button>\n\n          <div className=\"collapse navbar-collapse\" id=\"navbarSupportedContent\">\n            <Link to=\"/\" className=\"navbar-brand\">\n              <img src={logo} width=\"50\" height=\"50\" alt=\"\" />\n            </Link>\n          </div>\n          {this.props.isAuthenticated ? authLinks : guestLinks}\n        </div>\n      </nav>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => ({\n  isAuthenticated: state.auth.token !== null,\n  username: state.auth.username,\n  token: state.auth.token,\n});\nconst mapDispatchToProps = (dispatch) => ({\n  logout: (token) => dispatch(authActions.logout(token)),\n});\nexport default connect(mapStateToProps, mapDispatchToProps)(Header);\n","import React from \"react\";\nimport { connect } from \"react-redux\";\nimport { Redirect } from \"react-router-dom\";\nimport * as authActions from \"../store/actions/auth\";\n\nclass UserProfile extends React.Component {\n  render() {\n    if (this.props.token === null) {\n      return <Redirect to=\"/\" />;\n    } else {\n      return (\n        <div className=\"container portfolio\">\n          <div className=\"row\">\n            <div className=\"col-md-12\">\n              <div className=\"heading\">\n                <img src=\"https://image.ibb.co/cbCMvA/logo.png\" />\n              </div>\n            </div>\n          </div>\n          <div className=\"bio-info\">\n            <div className=\"row\">\n              <div className=\"col-md-6\">\n                <div className=\"row\">\n                  <div className=\"col-md-12\">\n                    <div className=\"bio-image\">\n                      <img\n                        src={this.props.profile.photo}\n                        alt=\"user_profile_image\"\n                        width=\"500\"\n                        height=\"500\"\n                      />\n                    </div>\n                  </div>\n                </div>\n              </div>\n              <div className=\"col-md-6\">\n                <div className=\"bio-content\">\n                  <h1>\n                    Hi there, I'm{\" \"}\n                    {this.props.username[0].toUpperCase() +\n                      this.props.username.slice(1)}\n                  </h1>\n                  <h6>{this.props.profile.bio}</h6>\n                  <hr />\n                  <span>{this.props.profile.phone_number}</span>\n                  <p>{this.props.profile.catch_phrase}</p>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      );\n    }\n  }\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    username: state.auth.username,\n    token: state.auth.token,\n    profile: state.auth.profile,\n  };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    getProfile: (token) => dispatch(authActions.getUserProfile(token)),\n  };\n};\nexport default connect(mapStateToProps, mapDispatchToProps)(UserProfile);\n","import React from \"react\";\n \n// by default delay = 0 and duration = 0.2s\nconst BackgroundChanger = ({ children, color}) => (\n    <div\n        style={{\n          backgroundColor: color\n        }}\n      >\n    {\n      children\n    }\n  </div>\n\n)\n\nexport default BackgroundChanger;","import React from \"react\";\n\nclass UpdateProfile extends React.Component {\n  render() {\n    return (\n      <div class=\"container bootstrap snippet\">\n        <div class=\"row\">\n          <div class=\"col-sm-10\">\n            <h1>User name</h1>\n          </div>\n          <div class=\"col-sm-2\">\n            {/* <a href=\"/users\" class=\"pull-right\">\n              <img\n                title=\"profile image\"\n                class=\"img-circle img-responsive\"\n                src=\"http://www.gravatar.com/avatar/28fd20ccec6865e2d5f0e1f4446eb7bf?s=100\"\n              />\n            </a> */}\n          </div>\n        </div>\n        <div class=\"row\">\n          <div class=\"col-sm-3\">\n            <div class=\"text-center\">\n              <img\n                src=\"http://ssl.gstatic.com/accounts/ui/avatar_2x.png\"\n                class=\"avatar img-circle img-thumbnail\"\n                alt=\"avatar\"\n              />\n              <h6>Upload a different photo...</h6>\n              <input type=\"file\" class=\"text-center center-block file-upload\" />\n            </div>\n          </div>\n          <div class=\"col-sm-9\">\n            <form class=\"form\" method=\"post\" id=\"registrationForm\">\n              <div class=\"form-group\">\n                <div class=\"col-xs-6\">\n                  <label for=\"first_name\">\n                    <h4>First name</h4>\n                  </label>\n                  <input\n                    type=\"text\"\n                    class=\"form-control\"\n                    name=\"first_name\"\n                    id=\"first_name\"\n                    placeholder=\"first name\"\n                    title=\"enter your first name if any.\"\n                  />\n                </div>\n              </div>\n              <div class=\"form-group\">\n                <div class=\"col-xs-6\">\n                  <label for=\"last_name\">\n                    <h4>Last name</h4>\n                  </label>\n                  <input\n                    type=\"text\"\n                    class=\"form-control\"\n                    name=\"last_name\"\n                    id=\"last_name\"\n                    placeholder=\"last name\"\n                    title=\"enter your last name if any.\"\n                  />\n                </div>\n              </div>\n              <div class=\"form-group\">\n                <div class=\"col-xs-6\">\n                  <label for=\"phone\">\n                    <h4>Phone</h4>\n                  </label>\n                  <input\n                    type=\"text\"\n                    class=\"form-control\"\n                    name=\"phone\"\n                    id=\"phone\"\n                    placeholder=\"enter phone\"\n                    title=\"enter your phone number if any.\"\n                  />\n                </div>\n              </div>\n              <div class=\"form-group\">\n                <div class=\"col-xs-6\">\n                  <label for=\"mobile\">\n                    <h4>Bio</h4>\n                  </label>\n                  <input\n                    type=\"text\"\n                    class=\"form-control\"\n                    name=\"bio\"\n                    id=\"bio\"\n                    placeholder=\"Enter a short description of yourself\"\n                    title=\"Enter a short description of yourself\"\n                  />\n                </div>\n              </div>\n              <div class=\"form-group\">\n                <div class=\"col-xs-12\">\n                  <button class=\"btn btn-lg btn-success\" type=\"submit\">\n                    <i class=\"glyphicon glyphicon-ok-sign\"></i> Save\n                  </button>\n                </div>\n              </div>\n            </form>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default UpdateProfile;\n","import React from 'react';\nimport Sky from 'react-sky';\n\nimport balloon1 from \"../assets/balloon1.PNG\"\nimport balloon2 from \"../assets/balloon2.PNG\"\nimport balloon3 from \"../assets/balloon3.PNG\"\nimport cake1 from \"../assets/cake1.PNG\"\nimport cake2 from \"../assets/cake2.PNG\"\nimport hat1 from \"../assets/hat1.PNG\"\nimport hat2 from \"../assets/hat2.PNG\"\nimport mingle from \"../assets/hey_mingle.png\"\n\nconst images = {\n  1: balloon1,\n  2: balloon2,\n  3: balloon3,\n  4: cake1,\n  5: cake2,\n  6: hat1,\n  7: hat2,\n  8: mingle\n}\n\n\nconst  SkyConfetti = ({start, type}) => {\n    return (\n      <div>\n        {\n        start && Object.keys(images).includes(String(type))  ? (\n        <Sky\n          images={{\n            0: images[type],\n          }}\n          how={100} /* Pass the number of images Sky will render chosing randomly */\n          time={5} /* time of animation */\n          size={'100px'} /* size of the rendered images */\n          background={'palettedvioletred'} /* color of background */\n        /> ) : <></>\n        }\n      </div>\n    );\n}\n\nexport default SkyConfetti;","import React, { Fragment } from \"react\";\nimport axios from \"axios\";\nimport { connect } from \"react-redux\";\nimport { Switch, Route, BrowserRouter as Router } from \"react-router-dom\";\nimport * as authActions from \"./store/actions/auth\";\nimport * as navActions from \"./store/actions/nav\";\nimport * as msgActions from \"./store/actions/message\";\nimport BaseRouter from \"./routes\";\nimport Sidepanel from \"./containers/Sidepanel\";\nimport Profile from \"./containers/Profile\";\nimport WebSocketInstance from \"./websocket\";\nimport AddChatModal from \"./containers/Popup\";\nimport Homepage from \"./containers/Homepage\";\nimport Register from \"./containers/Register\";\nimport Navbar from \"./containers/Navbar\";\nimport UserProfile from \"./containers/UserProfile\";\nimport logo from \"./assets/hey_mingle.png\";\nimport BackgroundChanger from \"./containers/Background\";\nimport UpdateProfile from \"./containers/UpdateProfile\";\n\nimport \"./App.css\";\nimport ConfettiAni from \"./containers/Confetti\";\nimport SkyConfetti from \"./containers/Sky\";\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      startConfetti: false,\n      confettiType: null,\n      bgColor: \"white\",\n    };\n    WebSocketInstance.addCallbacks(\n      this.props.setMessages.bind(this),\n      this.props.addMessage.bind(this)\n    );\n    this.toggleConfetti = this.toggleConfetti.bind(this);\n    this.toggleBackground = this.toggleBackground.bind(this);\n  }\n\n  baseUrl = \"https://mingle-market.herokuapp.com/chat/animation/\";\n  headers = {\n    \"Content-Type\": \"application/json\",\n  };\n\n  componentDidMount() {\n    this.inter = setInterval(() => {\n      console.log(\"starting\");\n      axios\n        .get(this.baseUrl, {\n          headers: this.headers,\n        })\n        .then((res) => {\n          this.setState({\n            startConfetti: res.data.startConfetti === \"on\",\n            ...res.data,\n          });\n        })\n        .catch((err) => console.log(err));\n    }, 5000);\n    this.props.onTryAutoSignup();\n  }\n\n  componentWillUnmount() {\n    clearInterval(this.inter);\n  }\n\n  toggleConfetti(confettiType, checked) {\n    axios\n      .post(\n        this.baseUrl,\n        {\n          startConfetti: checked ? \"on\" : \"off\",\n          confettiType,\n          ...this.state,\n        },\n        { headers: this.headers }\n      )\n      .then(() => {\n        this.setState((oldState) => ({\n          startConfetti: checked,\n          confettiType,\n          ...oldState,\n        }));\n      })\n      .catch(() => {\n        this.setState((oldState) => ({\n          ...oldState,\n        }));\n      });\n  }\n\n  toggleBackground(color) {\n    axios\n      .post(\n        this.baseUrl,\n        {\n          ...this.state,\n          bgColor: color,\n        },\n        { headers: this.headers }\n      )\n      .then(() => {\n        this.setState({\n          bgColor: color,\n        });\n      });\n  }\n\n  render() {\n    this.props.getProfile(this.props.token);\n    return (\n      <Router>\n        <Navbar\n          toggleConfetti={this.toggleConfetti}\n          toggleBackground={this.toggleBackground}\n          confettiType={this.state.confettiType}\n          start={this.state.startConfetti}\n          currentBg={this.state.bgColor}\n        />\n        <div className=\"container-fluid h-100 app\">\n          <Switch>\n            <Route path=\"/register\">\n              <Register />\n            </Route>\n            <Route path=\"/chat\">\n              <BackgroundChanger color={this.state.bgColor}>\n                <ConfettiAni\n                  start={this.state.startConfetti}\n                  type={this.state.confettiType}\n                />\n                <SkyConfetti\n                  start={this.state.startConfetti}\n                  type={this.state.confettiType}\n                />\n                <div className=\"container-fluid row justify-content-center\">\n                  <Sidepanel />\n                  <div className=\"col-md-8 col-xl-6 chat\">\n                    <div className=\"card\">\n                      <AddChatModal\n                        isVisible={this.props.showAddChatPopup}\n                        close={this.props.closeAddChatPopup}\n                      />\n                      <Profile />\n                      <BaseRouter />\n                    </div>\n                  </div>\n                </div>\n              </BackgroundChanger>\n            </Route>\n            <Route path=\"/profile\">\n              <UserProfile />\n            </Route>\n            <Route path=\"/update-profile\">\n              <UpdateProfile />\n            </Route>\n            <Route exact path=\"/\">\n              <Homepage />\n            </Route>\n          </Switch>\n        </div>\n      </Router>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    showAddChatPopup: state.nav.showAddChatPopup,\n    authenticated: state.auth.token,\n    token: state.auth.token,\n  };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    onTryAutoSignup: () => dispatch(authActions.authCheckState()),\n    getProfile: (token) => dispatch(authActions.getUserProfile(token)),\n    closeAddChatPopup: () => dispatch(navActions.closeAddChatPopup()),\n    addMessage: (message) => dispatch(msgActions.addMessage(message)),\n    setMessages: (messages) => dispatch(msgActions.setMessages(messages)),\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(App);\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","export const updateObject = (oldObject, updatedProperties) => {\n  return {\n    ...oldObject,\n    ...updatedProperties,\n  };\n};\n","import * as actionTypes from \"../actions/actionTypes\";\nimport { updateObject } from \"../utility\";\n\nconst initialState = {\n  token: null,\n  username: null,\n  error: null,\n  loading: false,\n  profile: null,\n};\n\nconst authStart = (state, action) => {\n  return updateObject(state, {\n    error: null,\n    loading: true,\n  });\n};\n\nconst authSuccess = (state, action) => {\n  return updateObject(state, {\n    token: action.token,\n    username: action.username,\n    error: null,\n    loading: false,\n  });\n};\n\nconst authFail = (state, action) => {\n  return updateObject(state, {\n    error: action.error,\n    loading: false,\n  });\n};\n\nconst authLogout = (state, action) => {\n  return updateObject(state, {\n    token: null,\n    username: null,\n  });\n};\n\nconst userProfile = (state, action) => {\n  return updateObject(state, {\n    profile: action.profile,\n  });\n};\n\nconst authReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case actionTypes.AUTH_START:\n      return authStart(state, action);\n    case actionTypes.AUTH_SUCCESS:\n      return authSuccess(state, action);\n    case actionTypes.AUTH_FAIL:\n      return authFail(state, action);\n    case actionTypes.AUTH_LOGOUT:\n      return authLogout(state, action);\n    case actionTypes.GET_PROFILE_SUCCESS:\n      return userProfile(state, action);\n    default:\n      return state;\n  }\n};\n\nexport default authReducer;\n","import * as actionTypes from \"../actions/actionTypes\";\nimport { updateObject } from \"../utility\";\n\nconst initialState = {\n  showAddChatPopup: false,\n};\n\nconst openAddChatPopup = (state, action) => {\n  return updateObject(state, { showAddChatPopup: true });\n};\n\nconst closeAddChatPopup = (state, action) => {\n  return updateObject(state, { showAddChatPopup: false });\n};\n\nconst navReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case actionTypes.OPEN_ADD_CHAT_POPUP:\n      return openAddChatPopup(state, action);\n    case actionTypes.CLOSE_ADD_CHAT_POPUP:\n      return closeAddChatPopup(state, action);\n    default:\n      return state;\n  }\n};\n\nexport default navReducer;\n","import * as actionTypes from \"../actions/actionTypes\";\nimport { updateObject } from \"../utility\";\n\nconst initialState = {\n  messages: [],\n  chats: [],\n};\n\nconst addMessage = (state, action) => {\n  return updateObject(state, {\n    messages: [...state.messages, action.message],\n  });\n};\n\nconst setMessages = (state, action) => {\n  return updateObject(state, {\n    messages: action.messages.reverse(),\n  });\n};\n\nconst setChats = (state, action) => {\n  return updateObject(state, {\n    chats: action.chats,\n  });\n};\n\nconst msgReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case actionTypes.ADD_MESSAGE:\n      return addMessage(state, action);\n    case actionTypes.SET_MESSAGES:\n      return setMessages(state, action);\n    case actionTypes.GET_CHATS_SUCCESS:\n      return setChats(state, action);\n    default:\n      return state;\n  }\n};\n\nexport default msgReducer;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport * as serviceWorker from \"./serviceWorker\";\nimport { createStore, compose, applyMiddleware, combineReducers } from \"redux\";\nimport { Provider } from \"react-redux\";\nimport thunk from \"redux-thunk\";\nimport \"antd/dist/antd.css\";\nimport \"bootstrap/dist/css/bootstrap.css\";\nimport authReducer from \"./store/reducers/auth\";\nimport navReducer from \"./store/reducers/nav\";\nimport msgReducer from \"./store/reducers/message\";\n\nconst composeEnhances = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\nfunction configureStore() {\n  const rootReducer = combineReducers({\n    auth: authReducer,\n    nav: navReducer,\n    message: msgReducer,\n  });\n  const store = createStore(\n    rootReducer,\n    composeEnhances(applyMiddleware(thunk))\n  );\n\n  return store;\n}\n\nconst store = configureStore();\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}